# HYLE í”„ë¡œì íŠ¸ í˜„í™© (2025-09-02 ì—…ë°ì´íŠ¸)

## ğŸš€ ìµœì‹  ì§„í–‰ ìƒí™©

### ì¸ë¬¸ë…¼ìˆ  AI ì±„ì  ì‹œìŠ¤í…œ (ğŸ†• 2025-09-02)
- âœ… ì˜¨í†¨ë¡œì§€ + GraphRAG ê¸°ë°˜ ì‹œìŠ¤í…œ ì„¤ê³„ ì™„ë£Œ
- âœ… NAG (Normative Answer Graph) ì •ë‹µ ê·¸ë˜í”„ êµ¬ì¡° ì„¤ê³„
- âœ… 7ë‹¨ê³„ ì±„ì  íŒŒì´í”„ë¼ì¸ êµ¬ì¶• (í”„ë¦¬ì²´í¬ â†’ LLM í•©ì˜ ì±„ì )
- âœ… 10ê°œ ëŒ€í•™ ë°ì´í„° êµ¬ì¡° ì„¤ê³„ (ì—°ì„¸ëŒ€, ê³ ë ¤ëŒ€, ì„±ê· ê´€ëŒ€ ë“±)
- âœ… 15ê°œ í•µì‹¬ í…Œì´ë¸” + pgvector ì„ë² ë”© ê²€ìƒ‰ êµ¬í˜„
- âœ… 4ê°€ì§€ ëŒ€í•™ë³„ ë…¼ìˆ  ìœ í˜• ë¶„ë¥˜ (ì „ë¬¸ê°€ ë¶„ì„ ë°˜ì˜)
- â³ Supabase ìŠ¤í‚¤ë§ˆ ì ìš© ëŒ€ê¸°
- â³ ê¸°ì¶œë¬¸ì œ ë°ì´í„° ìˆ˜ì§‘ í•„ìš”

### HYLE Admin Dashboard (âœ… ì™„ì „ ì‘ë™!)
- âœ… Supabase ì—°ë™ ì™„ë£Œ
- âœ… ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„ (Service Key í™œìš©)
- âœ… ì‚¬ìš©ì ê´€ë¦¬ ì‹¤ì œ ë°ì´í„° ì—°ë™
- âœ… ëª¨ë“  ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ UI êµ¬í˜„
- âœ… GitHub ì €ì¥ì†Œ ìƒì„± ë° ì—°ë™
- âœ… TypeScript ì—ëŸ¬ ëª¨ë‘ í•´ê²° (100ê°œ ì´ìƒ)
- âœ… ë¡œì»¬ ë¹Œë“œ ì„±ê³µ
- âœ… Vercel ë°°í¬ ì„±ê³µ (hyle-admin-2c3w.vercel.app)
- âœ… í™˜ê²½ ë³€ìˆ˜ ì•ˆì „ ì²˜ë¦¬ ì™„ë£Œ
- âœ… í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ (2025-08-31)
- âœ… ë¡œê·¸ì¸ ê¸°ëŠ¥ ì •ìƒ ì‘ë™ í™•ì¸

### Flutter ì•± (HYLE)
- âœ… Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
- âœ… ë¡œì»¬ í…ŒìŠ¤íŠ¸ ëª¨ë“œ ì‘ë™ (main_test_local.dart)
- â³ Admin Dashboard ë°°í¬ í›„ ì—°ë™ ì˜ˆì •
- â³ ì‹¤ì œ Supabase ì—°ê²° ëŒ€ê¸° ì¤‘
- â— íƒ€ì… ì—ëŸ¬ ì•½ 400ê°œ ìˆ˜ì • í•„ìš”

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°
```
C:\dev\git\
â”œâ”€â”€ hyle\               # Flutter ëª¨ë°”ì¼ ì•±
â”‚   â”œâ”€â”€ lib\            # Flutter ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ supabase\       # Supabase ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â””â”€â”€ migrations\ # DB ë§ˆì´ê·¸ë ˆì´ì…˜ (006~010 ì¶”ê°€ë¨)
â”‚   â”œâ”€â”€ ref\            # ì¸ë¬¸ë…¼ìˆ  PRD ë¬¸ì„œ
â”‚   â””â”€â”€ CLAUDE.md       # Claude ê°€ì´ë“œ
â”‚
â””â”€â”€ hyle-admin\         # Next.js ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
    â”œâ”€â”€ src\            # Next.js ì†ŒìŠ¤ ì½”ë“œ
    â”œâ”€â”€ supabase\       # DB ë§ˆì´ê·¸ë ˆì´ì…˜
    â””â”€â”€ .env.local      # í™˜ê²½ ë³€ìˆ˜

GitHub Repositories:
- https://github.com/cloudsnuchoi/hyle-admin (main branch)
```

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° (ëŒ€ê·œëª¨ í™•ì¥!)

### í•µì‹¬ í…Œì´ë¸”
- users (ì‚¬ìš©ì - RLS ë¬¸ì œë¡œ Service Key ì‚¬ìš© ì¤‘)
- courses (ê°•ì¢Œ)
- enrollments (ìˆ˜ê°• ì •ë³´)
- assignments (ê³¼ì œ)
- submissions (ì œì¶œë¬¼)
- live_classes (ì‹¤ì‹œê°„ ìˆ˜ì—…)

### í•™ìŠµ ì½˜í…ì¸ 
- textbooks (êµì¬)
- quizzes (í€´ì¦ˆ)
- quiz_questions (í€´ì¦ˆ ë¬¸ì œ)
- flashcard_decks (í”Œë˜ì‹œì¹´ë“œ ë±)
- flashcards (ê°œë³„ ì¹´ë“œ)

### ì†Œì…œ ê¸°ëŠ¥ (ğŸ†• 2025-08-31)
- user_relationships (ì¹œêµ¬/íŒ”ë¡œìš°)
- guilds (ê¸¸ë“œ/ìŠ¤í„°ë”” ê·¸ë£¹)
- chat_rooms (ì±„íŒ…ë°©)
- messages (ë©”ì‹œì§€)
- leaderboards (ë¦¬ë”ë³´ë“œ)
- achievements (ì—…ì )

### ì¸ë¬¸ë…¼ìˆ  AI (ğŸ†• 2025-09-02)
- universities (ëŒ€í•™ ì •ë³´ - 10ê°œ ëŒ€í•™)
- essay_topics (ë…¼ìˆ  ì£¼ì œ)
- essay_ontology_themes (ì¶œì œê²½í–¥ ì˜¨í†¨ë¡œì§€)
- nag_nodes, nag_edges (ì •ë‹µ ê·¸ë˜í”„)
- rubrics, rubric_criteria (ì±„ì  ê¸°ì¤€)
- submission_spans (ë‹µì•ˆ ë¶„ì„)
- graphrag_index (ë²¡í„° ê²€ìƒ‰)
- grading_quality_metrics (QWK í’ˆì§ˆ)
- learning_analytics (í•™ìŠµ ë¶„ì„)

### ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜
- missions (ë¯¸ì…˜/ë„ì „ê³¼ì œ)
- shop_items (ìƒì  ì•„ì´í…œ)
- coupons (ì¿ í°/í• ì¸)
- analytics_events (ë¶„ì„ ì´ë²¤íŠ¸)

### AI ê¸°ëŠ¥
- ai_prompts (AI í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿)
- knowledge_nodes (ì§€ì‹ ê·¸ë˜í”„)
- user_patterns (ì‚¬ìš©ì íŒ¨í„´ ë¶„ì„)
- ai_conversations (AI ëŒ€í™” ê¸°ë¡)

## ğŸ” Supabase ì„¤ì •
- âœ… Pro í”Œëœ êµ¬ë§¤ ì™„ë£Œ
- âœ… í”„ë¡œì íŠ¸ ìƒì„± ì™„ë£Œ (micro compute size)
- âœ… pgvector í™•ì¥ í™œì„±í™” (ì„ë² ë”© ê²€ìƒ‰ìš©)
- âš ï¸ RLS ì •ì±…: Service Keyë¡œ ìš°íšŒ ì¤‘ (ì¶”í›„ ì„¤ì • í•„ìš”)
- âœ… í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì 11ëª… ìƒì„± ì™„ë£Œ
- âœ… Admin ê³„ì •: admin@hyle.ai.kr / admin123 (2025-08-31 ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •)

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend (Supabase)
- PostgreSQL Database
- Real-time subscriptions
- Authentication (ì´ë©”ì¼/ì†Œì…œ)
- Storage for files
- pgvector for AI embeddings (ì„¤ì • ì™„ë£Œ!)

### Admin Dashboard (Next.js 15)
- App Router
- TypeScript
- Tailwind CSS + shadcn/ui
- Supabase SSR
- Vercel ë°°í¬
- react-grid-layout (ëŒ€ì‹œë³´ë“œ ì»¤ìŠ¤í„°ë§ˆì´ì§•)

### Mobile App (Flutter)
- Riverpod ìƒíƒœ ê´€ë¦¬
- go_router ë„¤ë¹„ê²Œì´ì…˜
- Supabase Flutter SDK
- ë‹¤ì¤‘ entry point (dev/test/prod)

### AI/ML Stack (ğŸ†•)
- OpenAI text-embedding-3-large (1536ì°¨ì›)
- GPT-4 / Claude-3 (LLM ì±„ì )
- NLI ë¶„ë¥˜ê¸° (ìŠ¤íŒ¬-ë…¸ë“œ ì •ë ¬)
- GraphRAG (ë¬¸ì„œ ê²€ìƒ‰)

## ğŸ¯ ì¦‰ì‹œ í•„ìš”í•œ ì‘ì—…
1. **ì¸ë¬¸ë…¼ìˆ  AI ì‹œìŠ¤í…œ êµ¬ì¶•**
   - Supabaseì— 010_essay_comprehensive_schema.sql ì ìš©
   - ê¸°ì¶œë¬¸ì œ ë°ì´í„° ìˆ˜ì§‘ (3ê°œ ëŒ€í•™ Ã— 3ë…„)
   - NAG ì—ë””í„° MVP ê°œë°œ
   - API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„

2. **Flutter ì•± Supabase ì‹¤ì œ ì—°ë™**
3. **í•™ìŠµì ìœ í˜• í…ŒìŠ¤íŠ¸ êµ¬í˜„ (16ê°€ì§€ íƒ€ì…)**
4. **AI íŠœí„° ê¸°ëŠ¥ í™œì„±í™”**
5. **Flutter íƒ€ì… ì—ëŸ¬ ìˆ˜ì • (ì•½ 400ê°œ)**

## ğŸ“… í”„ë¡œì íŠ¸ íƒ€ì„ë¼ì¸
- 2025-08-23: AWS Amplify â†’ Supabase ë§ˆì´ê·¸ë ˆì´ì…˜
- 2025-08-26: Admin Dashboard MVP ì™„ì„±, GitHub ì €ì¥ì†Œ ìƒì„±
- 2025-08-27: TypeScript ì—ëŸ¬ í•´ê²°, Vercel ë°°í¬ ì¤€ë¹„
- 2025-08-28: Vercel ë°°í¬ ì„±ê³µ, í™˜ê²½ ë³€ìˆ˜ ì•ˆì „ ì²˜ë¦¬
- 2025-08-31: Admin Dashboard ì™„ì „ ì‘ë™, ì†Œì…œ ê¸°ëŠ¥ DB ì¶”ê°€
- 2025-09-02: ì¸ë¬¸ë…¼ìˆ  AI ì‹œìŠ¤í…œ ì„¤ê³„ ì™„ë£Œ, 10ê°œ migration íŒŒì¼ ìƒì„±
- ë‹¤ìŒ: ì¸ë¬¸ë…¼ìˆ  ë°ì´í„° ìˆ˜ì§‘ â†’ API êµ¬í˜„ â†’ Flutter ì—°ë™

## ğŸ“ ìƒì„±ëœ Migration íŒŒì¼ë“¤
```
/supabase/migrations/
â”œâ”€â”€ 001_initial_schema.sql
â”œâ”€â”€ 002_add_columns.sql
â”œâ”€â”€ 003_add_indexes.sql
â”œâ”€â”€ 004_fix_constraints.sql
â”œâ”€â”€ 005_social_features.sql          # ì†Œì…œ ê¸°ëŠ¥
â”œâ”€â”€ 006_essay_ai_feature.sql         # ë…¼ìˆ  AI ê¸°ë³¸
â”œâ”€â”€ 007_essay_ai_enhanced.sql        # ë…¼ìˆ  AI ê³ ê¸‰
â”œâ”€â”€ 008_essay_master_data.sql        # 10ê°œ ëŒ€í•™ ë°ì´í„°
â”œâ”€â”€ 009_essay_data_collection_guide.md
â””â”€â”€ 010_essay_comprehensive_schema.sql # í†µí•© ìŠ¤í‚¤ë§ˆ
```

## âš ï¸ ì•Œë ¤ì§„ ì´ìŠˆ
- RLS ì •ì±… ë¯¸ì„¤ì • (Service Keyë¡œ ì„ì‹œ í•´ê²°)
- Flutter íƒ€ì… ì—ëŸ¬ ì•½ 400ê°œ
- ì¸ë¬¸ë…¼ìˆ  ê¸°ì¶œ ë°ì´í„° ìˆ˜ì§‘ í•„ìš”
- users í…Œì´ë¸”ì— last_seen, status ì»¬ëŸ¼ ì¶”ê°€ í•„ìš”

## ğŸ’¡ ì¤‘ìš” ë©”ëª¨
- Service Key í™˜ê²½ë³€ìˆ˜ëª…: SUPABASE_SERVICE_KEY (ROLE ì•„ë‹˜!)
- GitHub main branchê°€ production
- Vercelì´ push ì‹œ ìë™ ë°°í¬
- ë¡œê·¸ì¸ ì—”ë“œí¬ì¸íŠ¸: /api/auth/login-simple (RLS ìš°íšŒìš©)
- pgvector ì„ë² ë”©: OpenAI text-embedding-3-large (1536ì°¨ì›)